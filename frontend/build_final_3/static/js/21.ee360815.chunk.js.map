{"version":3,"sources":["views/Transaksi/Rekap/RekapTableContent.js"],"names":["RekapTableContent","props","appContext","useContext","AppContext","projectColumnAll","fetchColumn","projectRowByKategoriJenis","useHttp2","backEndMaster","kategori","jenis","rekapGetByProjectId","backEndRekap","projectId","GenerateData","arrData","find","item","dokumen_master_row","rowId","style","whiteSpace","textAlign","dokumen_detail_tipe_dokumen","dokumen_detail_dokumen_submited","dokumen_status_nama","dokumen_detail_surat_kontraktor","dokumen_detail_tanggal_surat_kontraktor","dokumen_detail_tanggal_surat_diterima_pln","dokumen_detail_nomor_surat_pln","dokumen_detail_tanggal_surat_keluar_pln","dokumen_detail_proses_approval","type","name","value","dokumen_master_id","color","size","onClick","dokumenMasterId","dokumenDetailId","axios","url","backEndDokumen","method","responseType","then","response","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","handleClick","dokumen_detail_id","className","dokumen_detail_catatan","slice","map","detailCol","key","project_column_id","detailRow","project_row_id","project_row_header","colSpan","fontWeight","project_row_keterangan"],"mappings":"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","file":"static/js/21.ee360815.chunk.js","sourcesContent":["/* eslint-disable camelcase */\n/* eslint-disable react/jsx-closing-tag-location */\n/* global Blob */\nimport React, { useContext } from 'react'\n\nimport { Button } from 'reactstrap'\nimport axios from 'axios'\n// import { useForm } from 'react-hook-form'\nimport { useHttp2 } from 'component'\nimport { AppContext } from '../../../context'\nimport './rownumber.css'\n\nconst RekapTableContent = (props) => {\n  const appContext = useContext(AppContext)\n  // const { register, handleSubmit } = useForm()\n\n  // --------------------------------------- Submit\n\n  const handleClick = (props) => {\n    const { dokumenMasterId, dokumenDetailId } = props\n    axios({\n      url: `${appContext.backEndDokumen}/download/pdf/${dokumenMasterId}/${dokumenDetailId}`,\n      method: 'GET',\n      responseType: 'blob' // important\n    }).then((response) => {\n      const url = window.URL.createObjectURL(new Blob([response.data]))\n      const link = document.createElement('a')\n      link.href = url\n      // link.setAttribute('download', `${dokumenMasterId}-download.zip`)\n      link.setAttribute('download', 'download.zip')\n      document.body.appendChild(link)\n      link.click()\n    })\n  }\n\n  // --------------------------------------- DidMount\n  const projectColumnAll = appContext.fetchColumn\n  const projectRowByKategoriJenis = useHttp2(`${appContext.backEndMaster}/projectrowbykategorijenis/${appContext.kategori}/${appContext.jenis}`, [])\n  const rekapGetByProjectId = useHttp2(`${appContext.backEndRekap}/${props.projectId}`, [])\n\n  const GenerateData = (props) => {\n    const arrData = rekapGetByProjectId.find(item => item.dokumen_master_row === props.rowId)\n    let content\n    if (!arrData) {\n      content = (\n        <>\n          {projectColumnAll.slice(1).map(detailCol => (\n            <td key={detailCol.project_column_id} style={{ whiteSpace: 'nowrap' }} />\n          ))}\n        </>\n      )\n    } else {\n      content = (\n        <>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}>{' '}  {arrData.dokumen_detail_tipe_dokumen} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_dokumen_submited} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_status_nama} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_surat_kontraktor} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_tanggal_surat_kontraktor === '0001-01-01 BC' ? '' : arrData.dokumen_detail_tanggal_surat_kontraktor} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_tanggal_surat_diterima_pln === '0001-01-01 BC' ? '' : arrData.dokumen_detail_tanggal_surat_kontraktor} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_nomor_surat_pln} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_tanggal_surat_keluar_pln === '0001-01-01 BC' ? '' : arrData.dokumen_detail_tanggal_surat_kontraktor} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {' '} {arrData.dokumen_detail_proses_approval} {' '} </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}>\n            {/* <Form onSubmit={handleSubmit(onSubmit)}> */}\n            <input type='hidden' name='dokumenMasterId' value={arrData.dokumen_master_id} />\n            <Button color='secondary' size='sm' onClick={() => handleClick({ dokumenMasterId: arrData.dokumen_master_id, dokumenDetailId: arrData.dokumen_detail_id })}>\n              <i className='icon-cloud-download' />\n              {' '}  Pdf\n            </Button>\n            {/* </Form> */}\n          </td>\n          <td style={{ whiteSpace: 'nowrap', textAlign: 'center' }}> {arrData.dokumen_detail_catatan} </td>\n        </>\n      )\n    }\n    return content\n  }\n\n  // --------------------------------------- Main\n  const content = (\n    <>\n      <tbody>\n        {projectRowByKategoriJenis.map(detailRow => (\n          <tr key={detailRow.project_row_id} value={detailRow.project_row_id} className='align-middle'>\n            {detailRow.project_row_header === 1\n              ? <td colSpan='17' style={{ fontWeight: 'bold' }}> {detailRow.project_row_keterangan}</td>\n              : <>\n                <td className='counterCell' />\n                {/* <td /> */}\n                <td style={{ whiteSpace: 'nowrap' }}> {detailRow.project_row_keterangan}\n                </td>\n                <GenerateData rowId={detailRow.project_row_id} />\n              </>}\n          </tr>\n        ))}\n      </tbody>\n    </>\n  )\n  return content\n}\n\nexport default RekapTableContent\n"],"sourceRoot":""}