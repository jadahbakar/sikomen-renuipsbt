(this["webpackJsonpsikomen-renuipsbt"]=this["webpackJsonpsikomen-renuipsbt"]||[]).push([[17],{563:function(e,a,t){"use strict";var n=t(544),r=t(1),c=t.n(r);function l(){var e=Object(n.a)(["\n  color: #f86c6b;\n  font-size: 0.813em;\n"]);return l=function(){return e},e}var o=t(545).a.div(l());a.a=function(e){var a=e.error;if(a)switch(a.type){case"required":return c.a.createElement(o,null," Harus Di Isi ");case"minLength":return c.a.createElement(o,null," UserId Harus 2 karakter ");case"pattern":return c.a.createElement(o,null," Alamat Em@il Tidak Sesuai ");default:return null}return null}},605:function(e,a,t){"use strict";var n=t(19),r=t(52),c=t(1),l=t.n(c),o=t(65),i=t.n(o),u=t(522),s=t.n(u),m=t(523),p={tag:m.e,className:i.a.string,cssModule:i.a.object},d=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(m.c)(s()(a,"card-footer"),t);return l.a.createElement(c,Object(n.a)({},o,{className:i}))};d.propTypes=p,d.defaultProps={tag:"div"},a.a=d},844:function(e,a,t){"use strict";var n=t(19),r=t(52),c=t(1),l=t.n(c),o=t(65),i=t.n(o),u=t(522),s=t.n(u),m=t(523),p={children:i.a.node,row:i.a.bool,check:i.a.bool,inline:i.a.bool,disabled:i.a.bool,tag:m.e,className:i.a.string,cssModule:i.a.object},d=function(e){var a=e.className,t=e.cssModule,c=e.row,o=e.disabled,i=e.check,u=e.inline,p=e.tag,d=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),E=Object(m.c)(s()(a,!!c&&"row",i?"form-check":"form-group",!(!i||!u)&&"form-check-inline",!(!i||!o)&&"disabled"),t);return"fieldset"===p&&(d.disabled=o),l.a.createElement(p,Object(n.a)({},d,{className:E}))};d.propTypes=p,d.defaultProps={tag:"div"},a.a=d},866:function(e,a,t){"use strict";t.r(a);var n=t(27),r=t(1),c=t.n(r),l=t(705),o=t(681),i=t(682),u=t(860),s=t(855),m=t(694),p=t(695),d=t(844),E=t(610),g=t(605),f=t(534),j=t(540),b=t.n(j),h=t(105),k=t.n(h),v=t(543),O=t(16),x=t(563),N=t(158),P=function(e){var a=e.color;return c.a.createElement("hr",{style:{color:a,backgroundColor:a,height:.3,marginTop:0,marginBottom:"0.9em"}})},_=function(e){var a=Object(r.useContext)(N.a),t=Object(O.g)(),j=Object(v.a)(),h=j.errors,_=j.register,C=j.handleSubmit,y=Object(r.useState)(""),I=Object(n.a)(y,2),S=I[0],K=I[1],R=Object(r.useState)(""),T=Object(n.a)(R,2),q=T[0],L=T[1],M=Object(r.useState)(""),A=Object(n.a)(M,2),w=A[0],J=A[1],D=Object(r.useState)(""),F=Object(n.a)(D,2),H=F[0],U=F[1],B=Object(r.useState)(""),z=Object(n.a)(B,2),G=z[0],Q=z[1],V=Object(r.useState)(""),W=Object(n.a)(V,2),X=W[0],Y=W[1],Z=Object(r.useState)(""),$=Object(n.a)(Z,2),ee=$[0],ae=$[1],te=Object(r.useState)(""),ne=Object(n.a)(te,2),re=ne[0],ce=ne[1],le=Object(r.useState)(""),oe=Object(n.a)(le,2),ie=oe[0],ue=oe[1],se=Object(r.useState)(""),me=Object(n.a)(se,2),pe=me[0],de=me[1],Ee=Object(r.useState)([]),ge=Object(n.a)(Ee,2),fe=ge[0],je=ge[1],be=Object(r.useState)(""),he=Object(n.a)(be,2),ke=he[0],ve=he[1],Oe=Object(r.useState)([]),xe=Object(n.a)(Oe,2),Ne=xe[0],Pe=xe[1],_e="".concat(a.backEndProject,"/").concat(a.projectId),Ce="".concat(a.backEndProject,"/pic/").concat(a.projectId),ye="".concat(a.backEndMaster,"/projectjeniskategori/").concat(S),Ie=Object(f.i)("".concat(a.backEndKategori),[]),Se=Object(f.i)("".concat(a.backEndPropinsi),[]),Ke=Object(f.i)("".concat(ye),[S]);Object(r.useEffect)((function(){k.a.get(_e).then((function(e){var a=e.data.results.projectAll[0],t=a.project_kategori,n=a.project_jenis,r=a.project_propinsi,c=a.project_nama,l=a.project_nomor_kontrak,o=a.project_kontraktor_nama,i=a.project_target_cod,u=a.project_status,s=a.project_engineering_status;K(t),L(n),J(r),U(c),Q(l),Y(o),ae(i),ce(u),ue(s)})).catch((function(e){console.log(e)})),k.a.get(Ce).then((function(e){e.data.results.projectPic.forEach((function(e){2===e.project_pic_type?fe.push({picKontraktor:e.project_pic_nama}):Ne.push({picPln:e.project_pic_nama})}))})).catch((function(e){console.log(e)}))}),[]);var Re=function(){t.goBack()},Te=function(e){return function(){je(fe.filter((function(a,t){return e!==t})))}},qe=function(e){return function(){Pe(Ne.filter((function(a,t){return e!==t})))}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.a,{fluid:!0},c.a.createElement(o.a,null,c.a.createElement(i.a,{className:"p-4"},c.a.createElement(u.a,{onSubmit:C((function(e){k.a.put("".concat(a.backEndProject),{action:"u",id:a.projectId,kategori:parseInt(S),propinsi:parseInt(w),jenis:parseInt(q),nama:H,nomorKontrak:G,kontraktorNama:X,targetCod:ee,projectStatus:re,engineeringStatus:ie,picPln:Ne,picKontraktor:fe}).then((function(e){Re()})).catch((function(e){console.log("error",e);var a=e.response.data;e.response.data.includes("duplicate")&&(a="Data Sudah Ada"),b.a.fire({type:"error",title:"Gagal Menyimpan",text:a,timer:1e3,footer:"@sikomen"}).then((function(e){Re()}))}))}))},c.a.createElement(s.a,{htmlFor:"prependedInput",className:"register-label-header"},"Kategori, Lokasi dan Jenis - ",a.projectId),c.a.createElement(P,{color:"#ff9375"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"4",lg:"4",xl:"4",sm:"auto",xs:"auto"},c.a.createElement(f.e,{icon:"icon-list",name:"kategori",value:S,change:function(e){K(e.target.value),L(0),Ke.length=0},placeholder:"Kategori",innerRef:_({required:!0}),error:c.a.createElement(x.a,{error:h.kategori})},c.a.createElement("option",{key:"",value:""},"Pilih Kategori..."),Ie.map((function(e){return c.a.createElement("option",{key:e.project_kategori_id,value:e.project_kategori_id},e.project_kategori_nama)})))),c.a.createElement(p.a,{md:"4",lg:"4",xl:"4",sm:"auto",xs:"auto"},c.a.createElement(f.e,{icon:"icon-location-pin",name:"propinsi",value:w,change:function(e){return J(e.target.value)},placeholder:"Propinsi",innerRef:_({required:!0}),error:c.a.createElement(x.a,{error:h.propinsi})},c.a.createElement("option",{key:"",value:""},"Pilih Propinsi..."),Se.map((function(e){return c.a.createElement("option",{key:e.propinsi_id,value:e.propinsi_id},e.propinsi_nama)})))),c.a.createElement(p.a,{md:"4",lg:"4",xl:"4",sm:"auto",xs:"auto"},c.a.createElement(f.e,{icon:"icon-list",name:"jenis",value:q,change:function(e){return L(e.target.value)},placeholder:"Jenis",innerRef:_({required:!0}),error:c.a.createElement(x.a,{error:h.jenis})},c.a.createElement("option",{key:"",value:""},"Pilih Jenis..."),Ke.map((function(e){return c.a.createElement("option",{key:e.project_jenis_id,value:e.project_jenis_id},e.project_jenis_nama)}))))),c.a.createElement(s.a,{htmlFor:"prependedInput",className:"register-label-header"},"Data Project"),c.a.createElement(P,{color:"#ff9375"}),c.a.createElement(f.c,{icon:"icon-pencil",name:"namaProject",type:"text",value:H,change:function(e){return U(e.target.value)},placeholder:"PROJECT NAME",innerRef:_({required:!0,minLength:3}),error:c.a.createElement(x.a,{error:h.namaProject})}),c.a.createElement(f.c,{icon:"icon-pencil",name:"noKontrak",type:"text",value:G,change:function(e){return Q(e.target.value)},placeholder:"CONTRACT NO.",innerRef:_({required:!0,minLength:3}),error:c.a.createElement(x.a,{error:h.noKontrak})}),c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"6",lg:"6",xl:"6",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"icon-pencil",name:"noKontrak",type:"text",value:X,change:function(e){return Y(e.target.value)},placeholder:"CONTRACTOR",innerRef:_({required:!0,minLength:3}),error:c.a.createElement(x.a,{error:h.noKontrak})})),c.a.createElement(p.a,{md:"6",lg:"6",xl:"6",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"icon-pencil",name:"targetCod",type:"text",value:ee,change:function(e){return ae((a=e.target.value)?a.replace(/\D+/,""):"");var a},placeholder:"TARGET COD",innerRef:_({required:!0,minLength:3}),error:c.a.createElement(x.a,{error:h.targetCod})}))),c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"6",lg:"6",xl:"6",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"icon-pencil",name:"projectStatus",type:"text",value:re,change:function(e){return ce(e.target.value)},placeholder:"Project Status",innerRef:_({required:!0,minLength:3}),error:c.a.createElement(x.a,{error:h.projectStatus})})),c.a.createElement(p.a,{md:"6",lg:"6",xl:"6",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"icon-pencil",name:"engineering",type:"text",value:ie,change:function(e){return ue(e.target.value)},placeholder:"Project Status",innerRef:_({required:!0}),error:c.a.createElement(x.a,{error:h.engineering})}))),c.a.createElement(s.a,{htmlFor:"prependedInput",className:"register-label-header"},"Person In Charge - Kontraktor"),c.a.createElement(P,{color:"#ff9375"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"10",lg:"10",xl:"10",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"fa fa-user",name:"picKontraktor",type:"text",value:pe,change:function(e){return de(e.target.value)},placeholder:"Nama PIC Kontraktor"})),c.a.createElement(p.a,{md:"2",lg:"2",xl:"2",sm:"auto",xs:"auto"},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:"pull-right"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"control"},c.a.createElement(E.a,{color:"success",block:!0,className:"pr-1",onClick:function(){""!==pe&&fe.push({picKontraktor:pe.toUpperCase()}),de("")}},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,"Tambah PIC")))))))),fe.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"10",lg:"10",xl:"10",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"fa fa-user",name:"picKontraktor",type:"text",value:e.picKontraktor,isdisabled:!0})),c.a.createElement(p.a,{md:"2",lg:"2",xl:"2",sm:"auto",xs:"auto"},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:"pull-right"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"control"},c.a.createElement(E.a,{color:"danger",block:!0,className:"pr-1",onClick:Te(a)},c.a.createElement("i",{className:"fa fa-minus"}),c.a.createElement("span",null,"Hapus PIC")))))))))})),c.a.createElement(s.a,{htmlFor:"prependedInput",className:"register-label-header"},"Person In Charge - PLN"),c.a.createElement(P,{color:"#ff9375"}),c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"10",lg:"10",xl:"10",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"fa fa-user-o",name:"picPln",type:"text",value:ke,change:function(e){return ve(e.target.value)},placeholder:"Nama PIC PLN"})),c.a.createElement(p.a,{md:"2",lg:"2",xl:"2",sm:"auto",xs:"auto"},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:"pull-right"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"control"},c.a.createElement(E.a,{color:"success",block:!0,className:"pr-1",onClick:function(){""!==ke&&Ne.push({picPln:ke.toUpperCase()}),ve("")}},c.a.createElement("i",{className:"fa fa-plus"}),c.a.createElement("span",null,"Tambah PIC")))))))),Ne.map((function(e,a){return c.a.createElement("div",{key:a},c.a.createElement(m.a,null,c.a.createElement(p.a,{md:"10",lg:"10",xl:"10",sm:"auto",xs:"auto"},c.a.createElement(f.c,{icon:"fa fa-user",name:"picPln",type:"text",value:e.picPln,isdisabled:!0})),c.a.createElement(p.a,{md:"2",lg:"2",xl:"2",sm:"auto",xs:"auto"},c.a.createElement(m.a,null,c.a.createElement(p.a,{className:"pull-right"},c.a.createElement(d.a,null,c.a.createElement("div",{className:"control"},c.a.createElement(E.a,{color:"danger",block:!0,className:"pr-1",onClick:qe(a)},c.a.createElement("i",{className:"fa fa-minus"}),c.a.createElement("span",null,"Hapus PIC")))))))))})),c.a.createElement(E.a,{color:"info",block:!0,size:"lg"},"UPDATE PROJECT"))),c.a.createElement(g.a,{className:"text-center"},c.a.createElement(s.a,{htmlFor:"prependedInput"},"Pastikan data yang di Input sudah Benar.")))))};a.default=Object(O.h)((function(){return""!==Object(r.useContext)(N.a).projectId?c.a.createElement(_,null):c.a.createElement(O.a,{to:"/transaksi/projects"})}))}}]);
//# sourceMappingURL=17.c2b690f5.chunk.js.map